import{ak as y,ax as B,ay as A,L as N,g as o,e as R,ae as U,az as M,aA as Y,aB as x,ai as G,G as $,aC as w,aD as z,Z as C,aE as Z,aF as h,aG as p,ap as q,aH as F,aI as H,aJ as J,aK as K}from"./DAEpXGSt.js";import{s as j,g as Q}from"./BtPuZwxi.js";let c=!1,g=Symbol();function k(e,r,i){const a=i[r]??(i[r]={store:null,source:N(void 0),unsubscribe:A});if(a.store!==e&&!(g in i))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=A;else{var u=!0;a.unsubscribe=j(e,t=>{u?a.source.v=t:R(a.source,t)}),u=!1}return e&&g in i?Q(e):o(a.source)}function ee(){const e={};function r(){y(()=>{for(var i in e)e[i].unsubscribe();B(e,g,{enumerable:!1,value:!0})})}return[e,r]}function V(e){var r=c;try{return c=!1,[e(),c]}finally{c=r}}function re(e,r,i,a){var E;var u=!q||(i&F)!==0,t=(i&p)!==0,D=(i&h)!==0,f=a,b=!0,P=()=>(b&&(b=!1,f=D?U(a):a),f),_;if(t){var L=J in e||K in e;_=((E=M(e,r))==null?void 0:E.set)??(L&&r in e?n=>e[r]=n:void 0)}var d,I=!1;t?[d,I]=V(()=>e[r]):d=e[r],d===void 0&&a!==void 0&&(d=P(),_&&(u&&Y(),_(d)));var s;if(u?s=()=>{var n=e[r];return n===void 0?P():(b=!0,n)}:s=()=>{var n=e[r];return n!==void 0&&(f=void 0),n===void 0?f:n},u&&!(i&x))return s;if(_){var T=e.$$legacy;return function(n,v){return arguments.length>0?((!u||!v||T||I)&&_(v?s():n),n):s()}}var S=!1,l=(i&H?G:$)(()=>(S=!1,s()));t&&o(l);var m=C;return function(n,v){if(arguments.length>0){const O=v?o(l):u&&t?w(n):n;return R(l,O),S=!0,f!==void 0&&(f=O),n}return z&&S||m.f&Z?l.v:o(l)}}export{k as a,re as p,ee as s};
